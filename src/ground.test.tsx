import { test, expect } from 'vitest';
import { generateGround, groundToData } from './ground';

test('ground', () => {
  const ground = generateGround(undefined, undefined, 4);
  expect(ground).toMatchInlineSnapshot(`
    "655677866666
    654777668767
    454676877765
    222222765776
    222222756667
    222222766787
    422424444655
    244224444555
    222222444776
    567222444222
    657222444222
    665222544222
    "
  `);

  expect(groundToData(ground)).toMatchInlineSnapshot(`
    [
      [
        0,
        0,
        6,
        "0000",
      ],
      [
        1,
        0,
        5,
        "1000",
      ],
      [
        2,
        0,
        5,
        "0010",
      ],
      [
        3,
        0,
        6,
        "0011",
      ],
      [
        4,
        0,
        7,
        "0000",
      ],
      [
        5,
        0,
        7,
        "0010",
      ],
      [
        6,
        0,
        8,
        "0000",
      ],
      [
        7,
        0,
        6,
        "1000",
      ],
      [
        8,
        0,
        6,
        "0001",
      ],
      [
        9,
        0,
        6,
        "0001",
      ],
      [
        10,
        0,
        6,
        "0000",
      ],
      [
        11,
        0,
        6,
        "0001",
      ],
      [
        0,
        1,
        6,
        "0000",
      ],
      [
        1,
        1,
        5,
        "1000",
      ],
      [
        2,
        1,
        4,
        "1110",
      ],
      [
        3,
        1,
        7,
        "0000",
      ],
      [
        4,
        1,
        7,
        "0000",
      ],
      [
        5,
        1,
        7,
        "0000",
      ],
      [
        6,
        1,
        6,
        "1101",
      ],
      [
        7,
        1,
        6,
        "0011",
      ],
      [
        8,
        1,
        8,
        "0000",
      ],
      [
        9,
        1,
        7,
        "1000",
      ],
      [
        10,
        1,
        6,
        "1010",
      ],
      [
        11,
        1,
        7,
        "0000",
      ],
      [
        0,
        2,
        4,
        "0110",
      ],
      [
        1,
        2,
        5,
        "0000",
      ],
      [
        2,
        2,
        4,
        "1010",
      ],
      [
        3,
        2,
        6,
        "0110",
      ],
      [
        4,
        2,
        7,
        "0000",
      ],
      [
        5,
        2,
        6,
        "1110",
      ],
      [
        6,
        2,
        8,
        "0000",
      ],
      [
        7,
        2,
        7,
        "1000",
      ],
      [
        8,
        2,
        7,
        "0100",
      ],
      [
        9,
        2,
        7,
        "0000",
      ],
      [
        10,
        2,
        6,
        "1001",
      ],
      [
        11,
        2,
        5,
        "1101",
      ],
      [
        0,
        3,
        2,
        "0100",
      ],
      [
        1,
        3,
        2,
        "0100",
      ],
      [
        2,
        3,
        2,
        "0100",
      ],
      [
        3,
        3,
        2,
        "0100",
      ],
      [
        4,
        3,
        2,
        "0100",
      ],
      [
        5,
        3,
        2,
        "0110",
      ],
      [
        6,
        3,
        7,
        "0100",
      ],
      [
        7,
        3,
        6,
        "1100",
      ],
      [
        8,
        3,
        5,
        "1111",
      ],
      [
        9,
        3,
        7,
        "0000",
      ],
      [
        10,
        3,
        7,
        "0000",
      ],
      [
        11,
        3,
        6,
        "1001",
      ],
      [
        0,
        4,
        2,
        "0000",
      ],
      [
        1,
        4,
        2,
        "0000",
      ],
      [
        2,
        4,
        2,
        "0000",
      ],
      [
        3,
        4,
        2,
        "0000",
      ],
      [
        4,
        4,
        2,
        "0000",
      ],
      [
        5,
        4,
        2,
        "0010",
      ],
      [
        6,
        4,
        7,
        "0000",
      ],
      [
        7,
        4,
        5,
        "1111",
      ],
      [
        8,
        4,
        6,
        "0000",
      ],
      [
        9,
        4,
        6,
        "0101",
      ],
      [
        10,
        4,
        6,
        "0111",
      ],
      [
        11,
        4,
        7,
        "0000",
      ],
      [
        0,
        5,
        2,
        "0001",
      ],
      [
        1,
        5,
        2,
        "0000",
      ],
      [
        2,
        5,
        2,
        "0000",
      ],
      [
        3,
        5,
        2,
        "0001",
      ],
      [
        4,
        5,
        2,
        "0000",
      ],
      [
        5,
        5,
        2,
        "0011",
      ],
      [
        6,
        5,
        7,
        "0000",
      ],
      [
        7,
        5,
        6,
        "1000",
      ],
      [
        8,
        5,
        6,
        "0010",
      ],
      [
        9,
        5,
        7,
        "0010",
      ],
      [
        10,
        5,
        8,
        "0000",
      ],
      [
        11,
        5,
        7,
        "1000",
      ],
      [
        0,
        6,
        4,
        "0000",
      ],
      [
        1,
        6,
        2,
        "1001",
      ],
      [
        2,
        6,
        2,
        "0011",
      ],
      [
        3,
        6,
        4,
        "0000",
      ],
      [
        4,
        6,
        2,
        "1010",
      ],
      [
        5,
        6,
        4,
        "0000",
      ],
      [
        6,
        6,
        4,
        "0100",
      ],
      [
        7,
        6,
        4,
        "0100",
      ],
      [
        8,
        6,
        4,
        "0110",
      ],
      [
        9,
        6,
        6,
        "0100",
      ],
      [
        10,
        6,
        5,
        "1100",
      ],
      [
        11,
        6,
        5,
        "0100",
      ],
      [
        0,
        7,
        2,
        "0110",
      ],
      [
        1,
        7,
        4,
        "0000",
      ],
      [
        2,
        7,
        4,
        "0000",
      ],
      [
        3,
        7,
        2,
        "1100",
      ],
      [
        4,
        7,
        2,
        "0010",
      ],
      [
        5,
        7,
        4,
        "0000",
      ],
      [
        6,
        7,
        4,
        "0000",
      ],
      [
        7,
        7,
        4,
        "0000",
      ],
      [
        8,
        7,
        4,
        "0010",
      ],
      [
        9,
        7,
        5,
        "0101",
      ],
      [
        10,
        7,
        5,
        "0001",
      ],
      [
        11,
        7,
        5,
        "0001",
      ],
      [
        0,
        8,
        2,
        "0001",
      ],
      [
        1,
        8,
        2,
        "0101",
      ],
      [
        2,
        8,
        2,
        "0101",
      ],
      [
        3,
        8,
        2,
        "0000",
      ],
      [
        4,
        8,
        2,
        "0000",
      ],
      [
        5,
        8,
        2,
        "0110",
      ],
      [
        6,
        8,
        4,
        "0000",
      ],
      [
        7,
        8,
        4,
        "0000",
      ],
      [
        8,
        8,
        4,
        "0010",
      ],
      [
        9,
        8,
        7,
        "0000",
      ],
      [
        10,
        8,
        7,
        "0000",
      ],
      [
        11,
        8,
        6,
        "1000",
      ],
      [
        0,
        9,
        5,
        "0011",
      ],
      [
        1,
        9,
        6,
        "0010",
      ],
      [
        2,
        9,
        7,
        "0000",
      ],
      [
        3,
        9,
        2,
        "1000",
      ],
      [
        4,
        9,
        2,
        "0000",
      ],
      [
        5,
        9,
        2,
        "0010",
      ],
      [
        6,
        9,
        4,
        "0000",
      ],
      [
        7,
        9,
        4,
        "0000",
      ],
      [
        8,
        9,
        4,
        "0000",
      ],
      [
        9,
        9,
        2,
        "1100",
      ],
      [
        10,
        9,
        2,
        "0100",
      ],
      [
        11,
        9,
        2,
        "0100",
      ],
      [
        0,
        10,
        6,
        "0000",
      ],
      [
        1,
        10,
        5,
        "1111",
      ],
      [
        2,
        10,
        7,
        "0000",
      ],
      [
        3,
        10,
        2,
        "1000",
      ],
      [
        4,
        10,
        2,
        "0000",
      ],
      [
        5,
        10,
        2,
        "0010",
      ],
      [
        6,
        10,
        4,
        "0001",
      ],
      [
        7,
        10,
        4,
        "0000",
      ],
      [
        8,
        10,
        4,
        "0000",
      ],
      [
        9,
        10,
        2,
        "1000",
      ],
      [
        10,
        10,
        2,
        "0000",
      ],
      [
        11,
        10,
        2,
        "0000",
      ],
      [
        0,
        11,
        6,
        "0000",
      ],
      [
        1,
        11,
        6,
        "0000",
      ],
      [
        2,
        11,
        5,
        "1100",
      ],
      [
        3,
        11,
        2,
        "1000",
      ],
      [
        4,
        11,
        2,
        "0000",
      ],
      [
        5,
        11,
        2,
        "0010",
      ],
      [
        6,
        11,
        5,
        "0000",
      ],
      [
        7,
        11,
        4,
        "1000",
      ],
      [
        8,
        11,
        4,
        "0000",
      ],
      [
        9,
        11,
        2,
        "1000",
      ],
      [
        10,
        11,
        2,
        "0000",
      ],
      [
        11,
        11,
        2,
        "0000",
      ],
    ]
  `);
});
